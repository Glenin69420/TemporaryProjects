<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/templates/base.html::head}"></head>
<body>

<div class="container-fluid py-5">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <div class="bg-light p-5 rounded">

          <!-- Formulario para agregar producto -->
          <div th:if="${title == 'Agregar'}">
            <h1 class="text-center mb-4">Agregar producto</h1>
            <form action="/agregar" method="POST" enctype="multipart/form-data">
              <div class="form-group mb-4">
                <label for="nombre">Nombre</label>
                <input type="text" id="nombre" name="nombre" class="form-control" required>
              </div>
              <div class="form-group mb-4">
                <label for="precio">Precio</label>
                <input type="number" id="precio" name="precio" class="form-control" required>
              </div>
              <div class="form-group mb-4">
                <label for="descripcion">Descripción</label>
                <textarea id="descripcion" name="descripcion" class="form-control" rows="3" required></textarea>
              </div>
              <div class="form-group mb-4">
                <label for="foto">Imagen del producto</label>
                <input type="file" id="foto" name="foto" class="form-control" accept="image/*" required>
              </div>
              <button type="submit" class="btn btn-primary w-100">Agregar</button>
            </form>
          </div>

          <!-- Formulario para editar producto -->
          <div th:if="${title == 'Editar'}">
            <h1 class="text-center mb-4">Editar producto</h1>
            <form action="/cambiar" method="POST" enctype="multipart/form-data">
              <div class="form-group mb-4">
                <label for="nombre2">Nombre</label>
                <input type="text" id="nombre2" name="nombre" class="form-control" th:value="${producto.nombre}" required>
              </div>
              <div class="form-group mb-4">
                <label for="precio2">Precio</label>
                <input type="number" id="precio2" name="precio" class="form-control" th:value="${producto.precio}" required>
              </div>
              <div class="form-group mb-4">
                <label for="descripcion2">Descripción</label>
                <textarea id="descripcion2" name="descripcion" class="form-control" rows="3" th:text="${producto.descripcion}" required></textarea>
              </div>
              <div class="form-group mb-4">
                <label for="foto2">Actualizar imagen del producto (opcional)</label>
                <input type="file" id="foto2" name="foto" class="form-control" accept="image/*">
              </div>
              <input type="hidden" th:name="id" th:value="${producto.id}">
              <button type="submit" class="btn btn-primary w-100">Cambiar</button>
            </form>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<div th:replace="~{/templates/base.html::footer}"></div>
</body>
</html>
